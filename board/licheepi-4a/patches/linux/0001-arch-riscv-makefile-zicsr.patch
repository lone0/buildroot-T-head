diff --git a/arch/riscv/Makefile b/arch/riscv/Makefile
index ffadba85b..86153e2b7 100644
--- a/arch/riscv/Makefile
+++ b/arch/riscv/Makefile
@@ -50,13 +50,13 @@ endif
 # ISA string setting
 # Newer binutils versions default to ISA spec version 20191213 which moves some
 # instructions from the I extension to the Zicsr and Zifencei extensions.
-toolchain-need-zicsr-zifencei := $(call cc-option-yn, -march=$(riscv-march-y)_zicsr_zifencei)
-riscv-march-$(toolchain-need-zicsr-zifencei) := $(riscv-march-y)_zicsr_zifencei
-
 riscv-march-cflags-$(CONFIG_ARCH_RV32I)		:= rv32ima
 riscv-march-cflags-$(CONFIG_ARCH_RV64I)		:= rv64ima
 riscv-march-cflags-$(CONFIG_RISCV_ISA_C)	:= $(riscv-march-cflags-y)c
 
+toolchain-need-zicsr-zifencei := $(call cc-option-yn, -march=$(riscv-march-cflags-y)_zicsr_zifencei)
+riscv-march-cflags-$(toolchain-need-zicsr-zifencei) := $(riscv-march-cflags-y)_zicsr_zifencei
+
 riscv-march-aflags-$(CONFIG_ARCH_RV32I)		:= rv32ima
 riscv-march-aflags-$(CONFIG_ARCH_RV64I)		:= rv64ima
 riscv-march-aflags-$(CONFIG_FPU)		:= $(riscv-march-aflags-y)fd
@@ -64,6 +64,7 @@ riscv-march-aflags-$(CONFIG_RISCV_ISA_C)	:= $(riscv-march-aflags-y)c
 riscv-march-aflags-$(CONFIG_VECTOR_1_0)		:= $(riscv-march-aflags-y)v
 riscv-march-aflags-$(CONFIG_VECTOR_0_7)		:= $(riscv-march-aflags-y)v0p7
 riscv-march-aflags-$(CONFIG_THEAD_ISA)		:= $(riscv-march-aflags-y)_xtheadc
+riscv-march-aflags-$(toolchain-need-zicsr-zifencei) := $(riscv-march-aflags-y)_zicsr_zifencei
 
 KBUILD_CFLAGS += -march=$(riscv-march-cflags-y) -Wa,-march=$(riscv-march-aflags-y)
 KBUILD_AFLAGS += -march=$(riscv-march-aflags-y)
